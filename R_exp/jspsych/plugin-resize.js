var jsPsychResize=function(e){"use strict";const t={name:"resize",parameters:{item_height:{type:e.ParameterType.INT,pretty_name:"Item height",default:1},item_width:{type:e.ParameterType.INT,pretty_name:"Item width",default:1},prompt:{type:e.ParameterType.HTML_STRING,pretty_name:"Prompt",default:null},pixels_per_unit:{type:e.ParameterType.INT,pretty_name:"Pixels per unit",default:100},starting_size:{type:e.ParameterType.INT,pretty_name:"Starting size",default:100},button_label:{type:e.ParameterType.STRING,pretty_name:"Button label",default:"Continue"}}};class i{constructor(e){this.jsPsych=e}trial(e,t){function i(){var e=(g=v.offsetWidth)/t.item_width;c=e/t.pixels_per_unit,document.getElementById("jspsych-content").style.transform="scale("+c+")"}var s=t.item_width/t.item_height;if(t.item_width>=t.item_height)var r=t.starting_size,a=Math.round(t.starting_size/s);else a=t.starting_size,r=Math.round(t.starting_size*s);var n='<div id="jspsych-resize-div" style="border: 2px solid steelblue; height: '+a+"px; width:"+r+'px; margin: 7px auto; background-color: lightsteelblue; position: relative;">';n+='<div id="jspsych-resize-handle" style="cursor: nwse-resize; background-color: steelblue; width: 10px; height: 10px; border: 2px solid lightsteelblue; position: absolute; bottom: 0; right: 0;"></div>',n+="</div>",null!==t.prompt&&(n+=t.prompt),n+='<a class="jspsych-btn" id="jspsych-resize-btn">'+t.button_label+"</a>",e.innerHTML=n;const h=()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",y),e.innerHTML="";var t={final_height_px:_,final_width_px:g,scale_factor:c};this.jsPsych.finishTrial(t)};document.getElementById("jspsych-resize-btn").addEventListener("click",()=>{i(),h()});var o,p,l,d,u=!1,m=e=>{e.preventDefault(),u=!0,o=e.pageX,p=e.pageY,l=parseInt(v.style.width),d=parseInt(v.style.height)};e.querySelector("#jspsych-resize-handle").addEventListener("mousedown",m);var y=()=>{u=!1};document.addEventListener("mouseup",y);var c,_,g,v=e.querySelector("#jspsych-resize-div"),b=e=>{if(u){var t=e.pageX-o,i=e.pageY-p;Math.abs(t)>=Math.abs(i)?(v.style.width=Math.round(Math.max(20,l+2*t))+"px",v.style.height=Math.round(Math.max(20,l+2*t)/s)+"px"):(v.style.height=Math.round(Math.max(20,d+2*i))+"px",v.style.width=Math.round(s*Math.max(20,d+2*i))+"px")}};document.addEventListener("mousemove",b)}}return i.info=t,i}(jsPsychModule);